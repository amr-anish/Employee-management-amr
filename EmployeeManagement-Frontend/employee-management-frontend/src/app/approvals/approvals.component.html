<app-navigation> </app-navigation>

<div>
  <mat-card fxFlex="120">
    <div class="tablee">
      <table mat-table [dataSource]="approvalList">
        <ng-container matColumnDef="leave_id">
          <th mat-header-cell *matHeaderCellDef> ID. </th>
          <td mat-cell *matCellDef="let element"> {{element.leave_id}} </td>
        </ng-container>
        <ng-container matColumnDef="emp_id">
          <th mat-header-cell *matHeaderCellDef> Employee Id </th>
          <td mat-cell *matCellDef="let element"> {{element.emp_id}} </td>
        </ng-container>
        <ng-container matColumnDef="leave_type">
          <th mat-header-cell *matHeaderCellDef> Type </th>
          <td mat-cell *matCellDef="let element"> {{element.leave_type}} </td>
        </ng-container>
        <ng-container matColumnDef="no_of_days">
          <th mat-header-cell *matHeaderCellDef> Days </th>
          <td mat-cell *matCellDef="let element"> {{element.no_of_days}} </td>
        </ng-container>
        <ng-container matColumnDef="reason">
          <th mat-header-cell *matHeaderCellDef> Reason </th>
          <td mat-cell *matCellDef="let element"> {{element.reason}} </td>
        </ng-container>
        <ng-container matColumnDef="fromdate">
          <th mat-header-cell *matHeaderCellDef> From </th>
          <td mat-cell *matCellDef="let element"> {{element.from_date}} </td>
        </ng-container>
        <ng-container matColumnDef="todate">
          <th mat-header-cell *matHeaderCellDef> To </th>
          <td mat-cell *matCellDef="let element"> {{element.to_date}} </td>
        </ng-container>
        <ng-container matColumnDef="status">
          <th mat-header-cell *matHeaderCellDef> Status </th>
          <td mat-cell *matCellDef="let element">
            <strong>
              <ng-container *ngIf="element.approval==0; ">
                <div class="pending"> Pending
                </div>
              </ng-container>
              <ng-container *ngIf="element.approval==1; ">
                <div class="approved"> Approved </div>
              </ng-container>
              <ng-container *ngIf="element.approval==2; ">
                <div class="rejected"> Rejected </div>
              </ng-container>
            </strong>
          </td>
        </ng-container>
        <ng-container matColumnDef="action">
          <th mat-header-cell *matHeaderCellDef> Action </th>
          <td mat-cell *matCellDef="let element">
            <ng-container *ngIf="element.approval==0; else elseTemplate">
              <div class="pending">
                <button (click)="setApproval(element.leave_id,1); $event.preventDefault();" color="primary"
                  mat-raised-button type="submit"> Approve </button>
                <button (click)=" setApproval(element.leave_id,2);$event.preventDefault();" color="warn"
                  mat-raised-button type="submit"> Reject </button>
              </div>
            </ng-container>
            <ng-template #elseTemplate>
              <div>
                <label>No Action</label>
              </div>
            </ng-template>
          </td>
        </ng-container>
        <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
        <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
      </table>
    </div>
  </mat-card>
</div>